[phases.setup]
nixPkgs = ["python3", "python3.pkgs.pip", "uv"]

[phases.install]
cmds = [
  "uv pip install --system -r requirements.txt"
]

[phases.build]
cmds = [
  "echo 'BUILD: Starting olama files copy...'",
  "ls -la tools/renderer/",
  "mkdir -p /app/tools/renderer",
  "cp -v tools/renderer/*.py /app/tools/renderer/",
  "chmod +x /app/tools/renderer/render_pptx.py",
  "echo 'BUILD: Files copied, listing contents:'",
  "ls -la /app/tools/renderer/",
  "echo 'BUILD: Checking render_pptx.py specifically:'",
  "head -20 /app/tools/renderer/render_pptx.py"
]